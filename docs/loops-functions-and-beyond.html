<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>16 loops, functions, and beyond | Data science for the liberal arts</title>
  <meta name="description" content="16 loops, functions, and beyond | Data science for the liberal arts" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="16 loops, functions, and beyond | Data science for the liberal arts" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="kevinlanning/DSLA25" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="16 loops, functions, and beyond | Data science for the liberal arts" />
  
  
  

<meta name="author" content="Kevin Lanning" />


<meta name="date" content="2025-08-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lists.html"/>
<link rel="next" href="from-correlation-to-multiple-regression.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>preface</a>
<ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#the-role-of-the-liberal-arts-in-data-science"><i class="fa fa-check"></i>the role of the liberal arts in data science</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#some-features-of-the-text"><i class="fa fa-check"></i>some features of the text</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#the-book-is-for-you"><i class="fa fa-check"></i>the book is for you</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-i-introduction.html"><a href="part-i-introduction.html"><i class="fa fa-check"></i>PART I: Introduction</a></li>
<li class="chapter" data-level="1" data-path="what-is-data-science-for-the-liberal-arts.html"><a href="what-is-data-science-for-the-liberal-arts.html"><i class="fa fa-check"></i><b>1</b> what is “data science for the liberal arts?”</a>
<ul>
<li class="chapter" data-level="1.1" data-path="what-is-data-science-for-the-liberal-arts.html"><a href="what-is-data-science-for-the-liberal-arts.html#the-incompleteness-of-the-data-science-venn-diagram"><i class="fa fa-check"></i><b>1.1</b> the incompleteness of the data science Venn diagram</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="what-is-data-science-for-the-liberal-arts.html"><a href="what-is-data-science-for-the-liberal-arts.html#additional-domains"><i class="fa fa-check"></i><b>1.1.1</b> additional domains</a></li>
<li class="chapter" data-level="1.1.2" data-path="what-is-data-science-for-the-liberal-arts.html"><a href="what-is-data-science-for-the-liberal-arts.html#an-additional-dimension"><i class="fa fa-check"></i><b>1.1.2</b> an additional dimension</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="what-is-data-science-for-the-liberal-arts.html"><a href="what-is-data-science-for-the-liberal-arts.html#the-importance-of-data-science-for-society"><i class="fa fa-check"></i><b>1.2</b> the importance of data science for society</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="what-is-data-science-for-the-liberal-arts.html"><a href="what-is-data-science-for-the-liberal-arts.html#intelligence-artificial-intelligence-ai-and-careers"><i class="fa fa-check"></i><b>1.2.1</b> intelligence, artificial intelligence (AI), and careers</a></li>
<li class="chapter" data-level="1.2.2" data-path="what-is-data-science-for-the-liberal-arts.html"><a href="what-is-data-science-for-the-liberal-arts.html#the-challenge-of-tmi"><i class="fa fa-check"></i><b>1.2.2</b> the challenge of TMI</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="what-is-data-science-for-the-liberal-arts.html"><a href="what-is-data-science-for-the-liberal-arts.html#discussion-what-are-your-objectives-in-data-science"><i class="fa fa-check"></i><b>1.3</b> discussion: what are your objectives in data science?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> getting started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#are-you-already-a-programmer-and-statistician"><i class="fa fa-check"></i><b>2.1</b> are you already a programmer and statistician?</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#spreadsheets---some-best-practices"><i class="fa fa-check"></i><b>2.2</b> spreadsheets - some best practices</a></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#setting-up-your-laptop-some-basic-tools"><i class="fa fa-check"></i><b>2.3</b> setting up your laptop: some basic tools</a></li>
<li class="chapter" data-level="2.4" data-path="getting-started.html"><a href="getting-started.html#a-modified-15-minute-rule"><i class="fa fa-check"></i><b>2.4</b> a (modified) 15-minute rule</a></li>
<li class="chapter" data-level="2.5" data-path="getting-started.html"><a href="getting-started.html#installing-r-and-rstudio-desktop"><i class="fa fa-check"></i><b>2.5</b> installing R and RStudio desktop</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="what-r-stands-for.html"><a href="what-r-stands-for.html"><i class="fa fa-check"></i><b>3</b> what R stands for …</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="what-r-stands-for.html"><a href="what-r-stands-for.html#base-r-and-packages"><i class="fa fa-check"></i><b>3.0.1</b> base R and packages</a></li>
<li class="chapter" data-level="3.1" data-path="what-r-stands-for.html"><a href="what-r-stands-for.html#cha-cha-cha-changes"><i class="fa fa-check"></i><b>3.1</b> cha-cha-cha-changes</a></li>
<li class="chapter" data-level="3.2" data-path="what-r-stands-for.html"><a href="what-r-stands-for.html#some-technical-characteristics"><i class="fa fa-check"></i><b>3.2</b> some technical characteristics</a></li>
<li class="chapter" data-level="3.3" data-path="what-r-stands-for.html"><a href="what-r-stands-for.html#finding-help"><i class="fa fa-check"></i><b>3.3</b> finding help</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploring-r-world.html"><a href="exploring-r-world.html"><i class="fa fa-check"></i><b>4</b> exploring R world</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exploring-r-world.html"><a href="exploring-r-world.html#go-to-the-movies"><i class="fa fa-check"></i><b>4.1</b> go to the movies</a></li>
<li class="chapter" data-level="4.2" data-path="exploring-r-world.html"><a href="exploring-r-world.html#go-into-the-clouds"><i class="fa fa-check"></i><b>4.2</b> go into the clouds</a></li>
<li class="chapter" data-level="4.3" data-path="exploring-r-world.html"><a href="exploring-r-world.html#open-the-box"><i class="fa fa-check"></i><b>4.3</b> open the box</a></li>
<li class="chapter" data-level="4.4" data-path="exploring-r-world.html"><a href="exploring-r-world.html#go-to-datacamp"><i class="fa fa-check"></i><b>4.4</b> go to (data)camp</a></li>
<li class="chapter" data-level="4.5" data-path="exploring-r-world.html"><a href="exploring-r-world.html#learn-to-knit"><i class="fa fa-check"></i><b>4.5</b> learn to knit</a></li>
<li class="chapter" data-level="4.6" data-path="exploring-r-world.html"><a href="exploring-r-world.html#read-parts-of-another-introductory-book"><i class="fa fa-check"></i><b>4.6</b> read (parts of) another introductory book</a></li>
<li class="chapter" data-level="4.7" data-path="exploring-r-world.html"><a href="exploring-r-world.html#older-approaches"><i class="fa fa-check"></i><b>4.7</b> older approaches</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="exploring-r-world.html"><a href="exploring-r-world.html#using-swirl"><i class="fa fa-check"></i><b>4.7.1</b> <strong>using Swirl</strong></a></li>
<li class="chapter" data-level="4.7.2" data-path="exploring-r-world.html"><a href="exploring-r-world.html#readingwatching-roger-pengs-text-andor-videos"><i class="fa fa-check"></i><b>4.7.2</b> reading/watching Roger Peng’s text and/or videos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-ii-towards-data-literacy.html"><a href="part-ii-towards-data-literacy.html"><i class="fa fa-check"></i>Part II: Towards data literacy</a></li>
<li class="chapter" data-level="5" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html"><i class="fa fa-check"></i><b>5</b> now draw the rest of the owl</a>
<ul>
<li class="chapter" data-level="5.1" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#time-for-hands-on-experience"><i class="fa fa-check"></i><b>5.1</b> time for hands-on experience</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#consider-loading-the-tidyverse"><i class="fa fa-check"></i><b>5.1.1</b> consider loading the tidyverse</a></li>
<li class="chapter" data-level="5.1.2" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#now-explore-the-babynames-package"><i class="fa fa-check"></i><b>5.1.2</b> now explore the babynames package</a></li>
<li class="chapter" data-level="5.1.3" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#or-the-ggplot2movies-package"><i class="fa fa-check"></i><b>5.1.3</b> or the (ggplot2)movies package</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#assignment"><i class="fa fa-check"></i><b>5.2</b> assignment</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="literate-programming.html"><a href="literate-programming.html"><i class="fa fa-check"></i><b>6</b> literate programming</a>
<ul>
<li class="chapter" data-level="6.1" data-path="literate-programming.html"><a href="literate-programming.html#projects-are-directories"><i class="fa fa-check"></i><b>6.1</b> projects are directories</a></li>
<li class="chapter" data-level="6.2" data-path="literate-programming.html"><a href="literate-programming.html#scripts-are-files-of-code"><i class="fa fa-check"></i><b>6.2</b> scripts are files of code</a></li>
<li class="chapter" data-level="6.3" data-path="literate-programming.html"><a href="literate-programming.html#r-markdown-quarto-documents-combine-scripts-with-comments-and-once-knit-results"><i class="fa fa-check"></i><b>6.3</b> R markdown / Quarto documents combine scripts with comments and (once knit) results</a></li>
<li class="chapter" data-level="6.4" data-path="literate-programming.html"><a href="literate-programming.html#some-elements-of-coding-style"><i class="fa fa-check"></i><b>6.4</b> some elements of coding style</a></li>
<li class="chapter" data-level="6.5" data-path="literate-programming.html"><a href="literate-programming.html#what-to-do-when-you-are-stuck"><i class="fa fa-check"></i><b>6.5</b> What to do when you are stuck</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html"><i class="fa fa-check"></i><b>7</b> principles of data visualization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#some-opening-thoughts"><i class="fa fa-check"></i><b>7.1</b> some opening thoughts</a></li>
<li class="chapter" data-level="7.2" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#some-early-graphs"><i class="fa fa-check"></i><b>7.2</b> some early graphs</a></li>
<li class="chapter" data-level="7.3" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#tukey-and-eda"><i class="fa fa-check"></i><b>7.3</b> Tukey and EDA</a></li>
<li class="chapter" data-level="7.4" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#approaches-to-graphs"><i class="fa fa-check"></i><b>7.4</b> approaches to graphs</a></li>
<li class="chapter" data-level="7.5" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#tufte-first-principles"><i class="fa fa-check"></i><b>7.5</b> Tufte: first principles</a></li>
<li class="chapter" data-level="7.6" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#the-politics-of-data-visualization"><i class="fa fa-check"></i><b>7.6</b> the politics of data visualization</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#poor-design-leads-to-an-uninformed-or-misinformed-world"><i class="fa fa-check"></i><b>7.6.1</b> poor design leads to an uninformed or misinformed world</a></li>
<li class="chapter" data-level="7.6.2" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#poor-design-can-be-a-tool-to-deceive"><i class="fa fa-check"></i><b>7.6.2</b> poor design can be a tool to deceive</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#the-psychology-of-data-visualization"><i class="fa fa-check"></i><b>7.7</b> the psychology of data visualization</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#the-power-of-animation"><i class="fa fa-check"></i><b>7.7.1</b> the power of animation</a></li>
<li class="chapter" data-level="7.7.2" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#telling-the-truth-when-the-truth-is-unclear"><i class="fa fa-check"></i><b>7.7.2</b> telling the truth when the truth is unclear</a></li>
<li class="chapter" data-level="7.7.3" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#visualizing-uncertainty"><i class="fa fa-check"></i><b>7.7.3</b> visualizing uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#exercises"><i class="fa fa-check"></i><b>7.8</b> exercises</a>
<ul>
<li class="chapter" data-level="" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#smartphone-sales"><i class="fa fa-check"></i>Smartphone sales</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#stand-your-ground"><i class="fa fa-check"></i>Stand your ground</a></li>
<li class="chapter" data-level="" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#big-businesses"><i class="fa fa-check"></i>Big businesses</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#further-reading-and-resources"><i class="fa fa-check"></i><b>7.9</b> further reading and resources</a></li>
<li class="chapter" data-level="7.10" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#notes-for-next-revision"><i class="fa fa-check"></i><b>7.10</b> notes for next revision</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html"><i class="fa fa-check"></i><b>8</b> visualization in R with ggplot</a>
<ul>
<li class="chapter" data-level="8.1" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#a-picture-words-numbers"><i class="fa fa-check"></i><b>8.1</b> a picture &gt; (words, numbers)?</a></li>
<li class="chapter" data-level="8.2" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#read-wickhams-opening-chapter"><i class="fa fa-check"></i><b>8.2</b> Read Wickham’s opening chapter</a></li>
<li class="chapter" data-level="8.3" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#explore"><i class="fa fa-check"></i><b>8.3</b> explore</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html"><i class="fa fa-check"></i><b>9</b> on probability and statistics</a>
<ul>
<li class="chapter" data-level="9.1" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#on-probability"><i class="fa fa-check"></i><b>9.1</b> on probability</a></li>
<li class="chapter" data-level="9.2" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#the-rules-of-probability"><i class="fa fa-check"></i><b>9.2</b> the rules of probability</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#keeping-conditional-probabilities-straight"><i class="fa fa-check"></i><b>9.2.1</b> keeping conditional probabilities straight</a></li>
<li class="chapter" data-level="9.2.2" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#exercises-1"><i class="fa fa-check"></i><b>9.2.2</b> exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#continuous-probability-distributions"><i class="fa fa-check"></i><b>9.3</b> continuous probability distributions</a></li>
<li class="chapter" data-level="9.4" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#dangerous-equations"><i class="fa fa-check"></i><b>9.4</b> dangerous equations</a></li>
<li class="chapter" data-level="9.5" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#notes-for-next-revision-1"><i class="fa fa-check"></i><b>9.5</b> notes for next revision</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html"><i class="fa fa-check"></i><b>10</b> reproducibility and the replication crisis</a>
<ul>
<li class="chapter" data-level="10.1" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#answers-to-the-reproducibility-crisis"><i class="fa fa-check"></i><b>10.1</b> answers to the reproducibility crisis</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#partial-answer-1-tweak-or-abandon-nhst"><i class="fa fa-check"></i><b>10.1.1</b> partial answer 1: Tweak or abandon NHST</a></li>
<li class="chapter" data-level="10.1.2" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#partial-answer-2-keep-a-log-of-every-step-of-every-analysis-in-r-markdown-or-jupyter-notebooks"><i class="fa fa-check"></i><b>10.1.2</b> partial answer 2: Keep a log of every step of every analysis in R markdown or Jupyter notebooks</a></li>
<li class="chapter" data-level="10.1.3" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#partial-answer-3-pre-registration-of-your-research"><i class="fa fa-check"></i><b>10.1.3</b> partial answer 3: Pre-registration of your research</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#further-readings"><i class="fa fa-check"></i><b>10.2</b> further readings</a></li>
<li class="chapter" data-level="10.3" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#notes-for-next-revision-2"><i class="fa fa-check"></i><b>10.3</b> notes for next revision</a></li>
</ul></li>
<li class="part"><span><b>I Part III Towards data proficiency</b></span></li>
<li class="chapter" data-level="11" data-path="wrangling-and-tidying.html"><a href="wrangling-and-tidying.html"><i class="fa fa-check"></i><b>11</b> wrangling and tidying</a>
<ul>
<li class="chapter" data-level="11.1" data-path="wrangling-and-tidying.html"><a href="wrangling-and-tidying.html#the-structure-of-the-tidyverse"><i class="fa fa-check"></i><b>11.1</b> the structure of the tidyverse</a></li>
<li class="chapter" data-level="11.2" data-path="wrangling-and-tidying.html"><a href="wrangling-and-tidying.html#where-should-we-eat"><i class="fa fa-check"></i><b>11.2</b> where should we eat?</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="wrangling-and-tidying.html"><a href="wrangling-and-tidying.html#tall-and-wide-formats"><i class="fa fa-check"></i><b>11.2.1</b> tall and wide formats</a></li>
<li class="chapter" data-level="11.2.2" data-path="wrangling-and-tidying.html"><a href="wrangling-and-tidying.html#exercises-2"><i class="fa fa-check"></i><b>11.2.2</b> exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="wrangling-and-tidying.html"><a href="wrangling-and-tidying.html#more-on-tidy-coding"><i class="fa fa-check"></i><b>11.3</b> more on tidy coding</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html"><i class="fa fa-check"></i><b>12</b> finding, exploring, cleaning, and combining data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#florida-educational-data"><i class="fa fa-check"></i><b>12.1</b> florida educational data</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#a-digression-slash-windows-and-the-world."><i class="fa fa-check"></i><b>12.1.1</b> a digression: Slash, Windows and the world.</a></li>
<li class="chapter" data-level="12.1.2" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#getting-data-from-our-machine-into-r"><i class="fa fa-check"></i><b>12.1.2</b> getting data from our machine into R</a></li>
<li class="chapter" data-level="12.1.3" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#which-ones-are-high-schools"><i class="fa fa-check"></i><b>12.1.3</b> which ones are “high schools”?</a></li>
<li class="chapter" data-level="12.1.4" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#can-we-compute-district-county-means-from-these-data"><i class="fa fa-check"></i><b>12.1.4</b> can we compute district (county) means from these data?</a></li>
<li class="chapter" data-level="12.1.5" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#estimating-school-enrollments"><i class="fa fa-check"></i><b>12.1.5</b> estimating school enrollments</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#combining-datasets"><i class="fa fa-check"></i><b>12.2</b> combining datasets</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#challenges-in-joining-datasets"><i class="fa fa-check"></i><b>12.2.1</b> challenges in joining datasets</a></li>
<li class="chapter" data-level="12.2.2" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#some-approaches-to-fixing-the-data"><i class="fa fa-check"></i><b>12.2.2</b> some approaches to fixing the data</a></li>
<li class="chapter" data-level="12.2.3" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#estimating-the-relationship-between-economic-disadvantage-and-graduation-rates"><i class="fa fa-check"></i><b>12.2.3</b> estimating the relationship between economic disadvantage and graduation rates</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="finding-exploring-cleaning-and-combining-data.html"><a href="finding-exploring-cleaning-and-combining-data.html#recap-on-joining-files"><i class="fa fa-check"></i><b>12.3</b> recap / on joining files</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="applied-data-science.html"><a href="applied-data-science.html"><i class="fa fa-check"></i><b>13</b> applied data science</a>
<ul>
<li class="chapter" data-level="13.1" data-path="applied-data-science.html"><a href="applied-data-science.html#public-health-and-covid"><i class="fa fa-check"></i><b>13.1</b> public health and covid</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="applied-data-science.html"><a href="applied-data-science.html#covid-data-in-2025"><i class="fa fa-check"></i><b>13.1.1</b> COVID data in 2025</a></li>
<li class="chapter" data-level="13.1.2" data-path="applied-data-science.html"><a href="applied-data-science.html#a-brief-digression-on-causality"><i class="fa fa-check"></i><b>13.1.2</b> a brief digression on causality</a></li>
<li class="chapter" data-level="13.1.3" data-path="applied-data-science.html"><a href="applied-data-science.html#the-excess-mortality-package"><i class="fa fa-check"></i><b>13.1.3</b> the excess mortality package</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="applied-data-science.html"><a href="applied-data-science.html#other-datasets-in-and-beyond-r"><i class="fa fa-check"></i><b>13.2</b> other datasets in and beyond R</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="applied-data-science.html"><a href="applied-data-science.html#makeextractcombine-your-own-data"><i class="fa fa-check"></i><b>13.2.1</b> make/extract/combine your own data</a></li>
<li class="chapter" data-level="13.2.2" data-path="applied-data-science.html"><a href="applied-data-science.html#keep-it-manageable"><i class="fa fa-check"></i><b>13.2.2</b> keep it manageable</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html"><i class="fa fa-check"></i><b>14</b> strings, factors, dates, and times</a>
<ul>
<li class="chapter" data-level="14.1" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#strings"><i class="fa fa-check"></i><b>14.1</b> strings</a></li>
<li class="chapter" data-level="14.2" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#factors"><i class="fa fa-check"></i><b>14.2</b> factors</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#types-of-babies"><i class="fa fa-check"></i><b>14.2.1</b> types of babies</a></li>
<li class="chapter" data-level="14.2.2" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#types-of-grown-ups"><i class="fa fa-check"></i><b>14.2.2</b> types of grown-ups</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#dates"><i class="fa fa-check"></i><b>14.3</b> dates</a></li>
<li class="chapter" data-level="14.4" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#times"><i class="fa fa-check"></i><b>14.4</b> times</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i><b>15</b> lists</a></li>
<li class="chapter" data-level="16" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html"><i class="fa fa-check"></i><b>16</b> loops, functions, and beyond</a>
<ul>
<li class="chapter" data-level="16.1" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#loops"><i class="fa fa-check"></i><b>16.1</b> loops</a></li>
<li class="chapter" data-level="16.2" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#from-loop-to-apply-to-purrrmap"><i class="fa fa-check"></i><b>16.2</b> from loop to apply to purrr::map</a></li>
<li class="chapter" data-level="16.3" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#some-examples-of-functions"><i class="fa fa-check"></i><b>16.3</b> some examples of functions</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#preliminaries"><i class="fa fa-check"></i><b>16.3.1</b> preliminaries</a></li>
<li class="chapter" data-level="16.3.2" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#the-function"><i class="fa fa-check"></i><b>16.3.2</b> the function</a></li>
<li class="chapter" data-level="16.3.3" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#applying-the-function"><i class="fa fa-check"></i><b>16.3.3</b> applying the function</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#how-many-bottles-of-what"><i class="fa fa-check"></i><b>16.4</b> how many bottles of what?</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="from-correlation-to-multiple-regression.html"><a href="from-correlation-to-multiple-regression.html"><i class="fa fa-check"></i><b>17</b> from correlation to multiple regression</a>
<ul>
<li class="chapter" data-level="17.1" data-path="from-correlation-to-multiple-regression.html"><a href="from-correlation-to-multiple-regression.html#bivariate-analysis-galtons-height-data"><i class="fa fa-check"></i><b>17.1</b> bivariate analysis: Galton’s height data</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="from-correlation-to-multiple-regression.html"><a href="from-correlation-to-multiple-regression.html#correlations-based-on-small-samples-are-unstable-a-monte-carlo-demonstration"><i class="fa fa-check"></i><b>17.1.1</b> correlations based on small samples are unstable: A Monte Carlo demonstration</a></li>
<li class="chapter" data-level="17.1.2" data-path="from-correlation-to-multiple-regression.html"><a href="from-correlation-to-multiple-regression.html#from-correlation-to-regression"><i class="fa fa-check"></i><b>17.1.2</b> from correlation to regression</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="from-correlation-to-multiple-regression.html"><a href="from-correlation-to-multiple-regression.html#multivariate-data"><i class="fa fa-check"></i><b>17.2</b> multivariate data</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="cross-validation.html"><a href="cross-validation.html"><i class="fa fa-check"></i><b>18</b> cross-validation</a>
<ul>
<li class="chapter" data-level="18.1" data-path="cross-validation.html"><a href="cross-validation.html#revisiting-the-affairs-data"><i class="fa fa-check"></i><b>18.1</b> revisiting the affairs data</a></li>
<li class="chapter" data-level="18.2" data-path="cross-validation.html"><a href="cross-validation.html#avoiding-capitalizing-on-chance"><i class="fa fa-check"></i><b>18.2</b> avoiding capitalizing on chance</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="cross-validation.html"><a href="cross-validation.html#splitting-the-data-into-training-and-test-subsamples"><i class="fa fa-check"></i><b>18.2.1</b> splitting the data into training and test subsamples</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="cross-validation.html"><a href="cross-validation.html#an-example-of-cross-validated-linear-regression"><i class="fa fa-check"></i><b>18.3</b> an example of cross-validated linear regression</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="cross-validation.html"><a href="cross-validation.html#applying-logistic-regression-analysis-to-the-training-data"><i class="fa fa-check"></i><b>18.3.1</b> applying logistic regression analysis to the training data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html"><i class="fa fa-check"></i><b>19</b> prediction and classification</a>
<ul>
<li class="chapter" data-level="19.1" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#from-regression-to-classification-selection-of-a-threshold"><i class="fa fa-check"></i><b>19.1</b> from regression to classification: selection of a threshold</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#applying-the-model-to-the-test-data"><i class="fa fa-check"></i><b>19.1.1</b> applying the model to the test data</a></li>
<li class="chapter" data-level="19.1.2" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#changing-our-decision-threshold"><i class="fa fa-check"></i><b>19.1.2</b> changing our decision threshold</a></li>
<li class="chapter" data-level="19.1.3" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#more-confusion"><i class="fa fa-check"></i><b>19.1.3</b> more confusion</a></li>
<li class="chapter" data-level="19.1.4" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#rocs-and-auc"><i class="fa fa-check"></i><b>19.1.4</b> ROCs and AUC</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#another-approach-to-classification-k-nearest-neighbor"><i class="fa fa-check"></i><b>19.2</b> another approach to classification: k-nearest neighbor</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#application-the-affairs-data"><i class="fa fa-check"></i><b>19.2.1</b> application: the affairs data</a></li>
<li class="chapter" data-level="19.2.2" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#from-one-doppelganger-to-many"><i class="fa fa-check"></i><b>19.2.2</b> from one doppelganger to many</a></li>
<li class="chapter" data-level="19.2.3" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#the-bayesian-classifier"><i class="fa fa-check"></i><b>19.2.3</b> the Bayesian classifier</a></li>
<li class="chapter" data-level="19.2.4" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#back-to-the-affairs-data"><i class="fa fa-check"></i><b>19.2.4</b> Back to the affairs data</a></li>
<li class="chapter" data-level="19.2.5" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#avoiding-capitalization-on-chance-again"><i class="fa fa-check"></i><b>19.2.5</b> avoiding capitalization on chance (again)</a></li>
<li class="chapter" data-level="19.2.6" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#the-multinomial-case"><i class="fa fa-check"></i><b>19.2.6</b> the multinomial case</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><i class="fa fa-check"></i><b>20</b> machine learning: chihuahuas vs muffins, and other distinctions and ideas</a>
<ul>
<li class="chapter" data-level="20.1" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#supervised-versus-unsupervised"><i class="fa fa-check"></i><b>20.1</b> supervised versus unsupervised</a></li>
<li class="chapter" data-level="20.2" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#prediction-versus-classification"><i class="fa fa-check"></i><b>20.2</b> prediction versus classification</a></li>
<li class="chapter" data-level="20.3" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#understanding-versus-prediction"><i class="fa fa-check"></i><b>20.3</b> understanding versus prediction</a></li>
<li class="chapter" data-level="20.4" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#bias-versus-variability"><i class="fa fa-check"></i><b>20.4</b> bias versus variability</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#resampling-beyond-test-training-and-validation-samples"><i class="fa fa-check"></i><b>20.4.1</b> resampling: beyond test, training, and validation samples</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#compensatory-versus-non-compensatory-problems"><i class="fa fa-check"></i><b>20.5</b> compensatory versus non-compensatory problems</a></li>
<li class="chapter" data-level="20.6" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#a-postscript-the-tidymodels-packages"><i class="fa fa-check"></i><b>20.6</b> a postscript: The Tidymodels packages</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html"><i class="fa fa-check"></i><b>21</b> working with text: a case study</a>
<ul>
<li class="chapter" data-level="21.1" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#federal-workers"><i class="fa fa-check"></i><b>21.1</b> federal workers</a></li>
<li class="chapter" data-level="21.2" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#finding-reddit-data"><i class="fa fa-check"></i><b>21.2</b> finding Reddit data</a></li>
<li class="chapter" data-level="21.3" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#some-initial-observations"><i class="fa fa-check"></i><b>21.3</b> some initial observations</a></li>
<li class="chapter" data-level="21.4" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#preprocessing"><i class="fa fa-check"></i><b>21.4</b> preprocessing</a></li>
<li class="chapter" data-level="21.5" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#comparing-the-words-and-stems"><i class="fa fa-check"></i><b>21.5</b> comparing the words and stems</a></li>
<li class="chapter" data-level="21.6" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#construction-of-differential-word-clouds"><i class="fa fa-check"></i><b>21.6</b> Construction of differential word clouds</a></li>
<li class="chapter" data-level="21.7" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#bigrams"><i class="fa fa-check"></i><b>21.7</b> bigrams</a></li>
<li class="chapter" data-level="21.8" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#categories-of-words"><i class="fa fa-check"></i><b>21.8</b> categories of words</a></li>
<li class="chapter" data-level="21.9" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#code-for-assessing-liwc-effect-sizes-between-2-groups"><i class="fa fa-check"></i><b>21.9</b> Code for assessing LIWC effect sizes between 2 groups</a></li>
<li class="chapter" data-level="21.10" data-path="working-with-text-a-case-study.html"><a href="working-with-text-a-case-study.html#exercise-what-would-you-do-next"><i class="fa fa-check"></i><b>21.10</b> exercise: what would you do next?</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="an-introduction-to-networks.html"><a href="an-introduction-to-networks.html"><i class="fa fa-check"></i><b>22</b> an introduction to networks</a>
<ul>
<li class="chapter" data-level="22.1" data-path="an-introduction-to-networks.html"><a href="an-introduction-to-networks.html#key-network-concepts"><i class="fa fa-check"></i><b>22.1</b> key network concepts</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="an-introduction-to-networks.html"><a href="an-introduction-to-networks.html#a-simple-example-networks-and-balance-theory"><i class="fa fa-check"></i><b>22.1.1</b> a simple example: networks and balance theory</a></li>
<li class="chapter" data-level="22.1.2" data-path="an-introduction-to-networks.html"><a href="an-introduction-to-networks.html#centrality"><i class="fa fa-check"></i><b>22.1.2</b> centrality</a></li>
<li class="chapter" data-level="22.1.3" data-path="an-introduction-to-networks.html"><a href="an-introduction-to-networks.html#components-and-communities"><i class="fa fa-check"></i><b>22.1.3</b> components and communities</a></li>
<li class="chapter" data-level="22.1.4" data-path="an-introduction-to-networks.html"><a href="an-introduction-to-networks.html#another-example-its-a-small-world"><i class="fa fa-check"></i><b>22.1.4</b> another example: it’s a small world</a></li>
<li class="chapter" data-level="22.1.5" data-path="an-introduction-to-networks.html"><a href="an-introduction-to-networks.html#static-and-dynamic-networks"><i class="fa fa-check"></i><b>22.1.5</b> static and dynamic networks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="case-study-the-network-structure-of-computational-social-science.html"><a href="case-study-the-network-structure-of-computational-social-science.html"><i class="fa fa-check"></i><b>23</b> case study: the network structure of computational social science</a>
<ul>
<li class="chapter" data-level="23.0.1" data-path="case-study-the-network-structure-of-computational-social-science.html"><a href="case-study-the-network-structure-of-computational-social-science.html#from-citation-network-to-structural-network"><i class="fa fa-check"></i><b>23.0.1</b> from citation network to structural network</a></li>
<li class="chapter" data-level="23.0.2" data-path="case-study-the-network-structure-of-computational-social-science.html"><a href="case-study-the-network-structure-of-computational-social-science.html#looking-at-the-whole-citation-network"><i class="fa fa-check"></i><b>23.0.2</b> looking at the whole citation network</a></li>
<li class="chapter" data-level="23.0.3" data-path="case-study-the-network-structure-of-computational-social-science.html"><a href="case-study-the-network-structure-of-computational-social-science.html#the-structural-network-centrality-and-community-structure"><i class="fa fa-check"></i><b>23.0.3</b> the structural network: Centrality and community structure</a></li>
<li class="chapter" data-level="23.0.4" data-path="case-study-the-network-structure-of-computational-social-science.html"><a href="case-study-the-network-structure-of-computational-social-science.html#visualizing-the-network"><i class="fa fa-check"></i><b>23.0.4</b> visualizing the network</a></li>
<li class="chapter" data-level="23.0.5" data-path="case-study-the-network-structure-of-computational-social-science.html"><a href="case-study-the-network-structure-of-computational-social-science.html#exploring-the-communities"><i class="fa fa-check"></i><b>23.0.5</b> exploring the communities</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html"><i class="fa fa-check"></i><b>24</b> some ethical concerns for the data scientist</a>
<ul>
<li class="chapter" data-level="24.1" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#ethics-and-personality-harvesting"><i class="fa fa-check"></i><b>24.1</b> ethics and personality harvesting</a></li>
<li class="chapter" data-level="24.2" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#the-law-of-unintended-consequences"><i class="fa fa-check"></i><b>24.2</b> the law of unintended consequences</a></li>
<li class="chapter" data-level="24.3" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#your-privacy-is-my-concern"><i class="fa fa-check"></i><b>24.3</b> your privacy is my concern</a></li>
<li class="chapter" data-level="24.4" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#who-should-hold-the-digital-keys"><i class="fa fa-check"></i><b>24.4</b> who should hold the digital keys?</a></li>
<li class="chapter" data-level="24.5" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#contact-tracing-and-covid-19"><i class="fa fa-check"></i><b>24.5</b> contact-tracing and COVID-19</a></li>
<li class="chapter" data-level="24.6" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#the-digital-divide"><i class="fa fa-check"></i><b>24.6</b> the digital divide</a></li>
<li class="chapter" data-level="24.7" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#still-more-case-studies"><i class="fa fa-check"></i><b>24.7</b> still more case studies</a></li>
<li class="chapter" data-level="24.8" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#some-potential-remedies"><i class="fa fa-check"></i><b>24.8</b> some potential remedies</a></li>
<li class="chapter" data-level="24.9" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#technology-change-and-risk"><i class="fa fa-check"></i><b>24.9</b> technology, change, and risk</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>25</b> exercises</a>
<ul>
<li class="chapter" data-level="25.1" data-path="exercises-3.html"><a href="exercises-3.html#generating-correlated-data-gpa-and-sat-and-putting-it-in-a-google-sheet"><i class="fa fa-check"></i><b>25.1</b> generating correlated data (GPA and SAT) and putting it in a Google Sheet</a></li>
<li class="chapter" data-level="25.2" data-path="exercises-3.html"><a href="exercises-3.html#now-look-at-your-data-in-the-spreadsheet"><i class="fa fa-check"></i><b>25.2</b> now look at your data in the spreadsheet</a></li>
<li class="chapter" data-level="25.3" data-path="exercises-3.html"><a href="exercises-3.html#using-ai-to-help-us-here"><i class="fa fa-check"></i><b>25.3</b> using AI to help us here</a>
<ul>
<li class="chapter" data-level="25.3.1" data-path="exercises-3.html"><a href="exercises-3.html#for-last-names-its-a-little-bit-trickier"><i class="fa fa-check"></i><b>25.3.1</b> for last names, it’s a little bit trickier</a></li>
<li class="chapter" data-level="25.3.2" data-path="exercises-3.html"><a href="exercises-3.html#cleaning-these-up"><i class="fa fa-check"></i><b>25.3.2</b> cleaning these up</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data science for the liberal arts</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="loops-functions-and-beyond" class="section level1 hasAnchor" number="16">
<h1><span class="header-section-number">16</span> loops, functions, and beyond<a href="loops-functions-and-beyond.html#loops-functions-and-beyond" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In one of the most important contemporary theoretical models of intelligence, <span class="citation">(<a href="#ref-sternberg1999">Robert J. Sternberg 1999</a>)</span> has argued that the ability to automatize, that is, to work efficiently on repeated or habitual tasks, is a key component of intelligent behavior. Solving habitual problems efficiently - whether it is making a cup of coffee or finding the shortest path to complete a shopping list in a supermarket or a series of errands across town - allows us to focus our limited resources on other challenging tasks that, in turn, may determine whether we survive, or at least prosper.</p>
<p>In programming, loops and functions are essential tools for making repetitive tasks simple. Simplifying your code is one of the more intellectually satisfying aspects of working in R or in any programming language.</p>
<p>In R, loops are supplemented by additional tools for simplifying and avoiding repetition in code, including the ‘apply’ family in Base R and the map function in the tidyverse.</p>
<p>Functions (and, beyond this, custom libraries) can further streamline your work.</p>
<div id="loops" class="section level2 hasAnchor" number="16.1">
<h2><span class="header-section-number">16.1</span> loops<a href="loops-functions-and-beyond.html#loops" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Consider the task of printing out a series of numbers. Here’s a simple example of how this could be done in a loop in Base R. It prints numbers between 1995 and 1998 (inclusive).</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="loops-functions-and-beyond.html#cb94-1" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1995</span><span class="sc">:</span><span class="dv">1998</span>) { <span class="co"># i is an index code</span></span>
<span id="cb94-2"><a href="loops-functions-and-beyond.html#cb94-2" tabindex="-1"></a>    <span class="fu">print</span>(i) <span class="co"># print the ith value in the sequence </span></span>
<span id="cb94-3"><a href="loops-functions-and-beyond.html#cb94-3" tabindex="-1"></a>} <span class="co"># go to the next one until the range is complete</span></span></code></pre></div>
<pre><code>## [1] 1995
## [1] 1996
## [1] 1997
## [1] 1998</code></pre>
<p>Let’s expand on this a little, connecting back to the babynames data. This will print counts of the number of babies for each year in GenerationZ, which includes years from 1995-2015.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="loops-functions-and-beyond.html#cb96-1" tabindex="-1"></a>genZ <span class="ot">&lt;-</span> (<span class="dv">1995</span><span class="sc">:</span><span class="dv">2015</span>)</span>
<span id="cb96-2"><a href="loops-functions-and-beyond.html#cb96-2" tabindex="-1"></a><span class="co"># this reduces the (big) babynames to a simple file of years and counts</span></span>
<span id="cb96-3"><a href="loops-functions-and-beyond.html#cb96-3" tabindex="-1"></a>babyCounts <span class="ot">&lt;-</span></span>
<span id="cb96-4"><a href="loops-functions-and-beyond.html#cb96-4" tabindex="-1"></a>    babynames <span class="sc">%&gt;%</span> </span>
<span id="cb96-5"><a href="loops-functions-and-beyond.html#cb96-5" tabindex="-1"></a>    <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb96-6"><a href="loops-functions-and-beyond.html#cb96-6" tabindex="-1"></a>    <span class="fu">filter</span>(year <span class="sc">%in%</span> genZ) <span class="sc">%&gt;%</span> </span>
<span id="cb96-7"><a href="loops-functions-and-beyond.html#cb96-7" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">nbabies =</span> <span class="fu">sum</span>(n))</span>
<span id="cb96-8"><a href="loops-functions-and-beyond.html#cb96-8" tabindex="-1"></a>    </span>
<span id="cb96-9"><a href="loops-functions-and-beyond.html#cb96-9" tabindex="-1"></a><span class="co"># and this uses a for loop to print each row in turn</span></span>
<span id="cb96-10"><a href="loops-functions-and-beyond.html#cb96-10" tabindex="-1"></a><span class="co"># for (i in (1:nrow(babyCounts))) { </span></span>
<span id="cb96-11"><a href="loops-functions-and-beyond.html#cb96-11" tabindex="-1"></a></span>
<span id="cb96-12"><a href="loops-functions-and-beyond.html#cb96-12" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(<span class="fu">nrow</span>(babyCounts))) { </span>
<span id="cb96-13"><a href="loops-functions-and-beyond.html#cb96-13" tabindex="-1"></a>    <span class="co"># filename[i,j] == ith row and jth column</span></span>
<span id="cb96-14"><a href="loops-functions-and-beyond.html#cb96-14" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>((babyCounts[i,<span class="dv">1</span>]), babyCounts[i,<span class="dv">2</span>]))</span>
<span id="cb96-15"><a href="loops-functions-and-beyond.html#cb96-15" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;1995 3661351&quot;</code></pre>
<p>The syntax of loops, including where to put parentheses in index statements, can be tricky. Expect to refer to Google and StackExchange often in order to get your code running.</p>
<p>Another good source is Chapter 26 of R4DS (2e). There, Wickham goes in to additional detail, including a description of seq_along(df) as a tool for creating an index corresponding to 1:ncol(df). Here’s an example with the diamonds dataset:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="loops-functions-and-beyond.html#cb98-1" tabindex="-1"></a>diamonds2 <span class="ot">&lt;-</span> diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb98-2"><a href="loops-functions-and-beyond.html#cb98-2" tabindex="-1"></a>    <span class="fu">select_if</span>(., is.numeric)</span>
<span id="cb98-3"><a href="loops-functions-and-beyond.html#cb98-3" tabindex="-1"></a><span class="co"># for (i in (1:ncol(diamonds2))) {</span></span>
<span id="cb98-4"><a href="loops-functions-and-beyond.html#cb98-4" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(diamonds2)) {</span>
<span id="cb98-5"><a href="loops-functions-and-beyond.html#cb98-5" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="fu">names</span>(diamonds2[i]),</span>
<span id="cb98-6"><a href="loops-functions-and-beyond.html#cb98-6" tabindex="-1"></a>                <span class="fu">round</span>(<span class="fu">mean</span>(diamonds2[[i]]),<span class="dv">2</span>)))</span>
<span id="cb98-7"><a href="loops-functions-and-beyond.html#cb98-7" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;carat 0.8&quot;
## [1] &quot;depth 61.75&quot;
## [1] &quot;table 57.46&quot;
## [1] &quot;price 3932.8&quot;
## [1] &quot;x 5.73&quot;
## [1] &quot;y 5.73&quot;
## [1] &quot;z 3.54&quot;</code></pre>
<p>Chapter 26 of R4DS also considers some extensions to related problems such as loops of indefinite length, which can often be addressed using the ‘<em>while</em>’ command.</p>
</div>
<div id="from-loop-to-apply-to-purrrmap" class="section level2 hasAnchor" number="16.2">
<h2><span class="header-section-number">16.2</span> from loop to apply to purrr::map<a href="loops-functions-and-beyond.html#from-loop-to-apply-to-purrrmap" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Understanding for loops is fundamental in programming, but in R they should often be sidestepped. If the order of iteration isn’t important (if, for example, it doesn’t matter which of the diamonds variables we take the mean of first), then using one of the measures from the <strong>apply</strong> family can generally be used to make your code simpler and more efficient.</p>
<p>The logic is that one takes a dataframe (df or tibble), then applies a function to its rows or columns:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="loops-functions-and-beyond.html#cb100-1" tabindex="-1"></a><span class="co"># apply = apply the function (mean) to the columns(2) of the df </span></span>
<span id="cb100-2"><a href="loops-functions-and-beyond.html#cb100-2" tabindex="-1"></a>diamonds2  <span class="sc">%&gt;%</span> <span class="fu">apply</span>(<span class="dv">2</span>,mean) </span></code></pre></div>
<pre><code>##        carat        depth        table        price            x            y 
##    0.7979397   61.7494049   57.4571839 3932.7997219    5.7311572    5.7345260 
##            z 
##    3.5387338</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="loops-functions-and-beyond.html#cb102-1" tabindex="-1"></a><span class="co"># sapply = simply apply - guesses that you are looking for col. means</span></span>
<span id="cb102-2"><a href="loops-functions-and-beyond.html#cb102-2" tabindex="-1"></a>diamonds2  <span class="sc">%&gt;%</span> <span class="fu">sapply</span>(mean) </span></code></pre></div>
<pre><code>##        carat        depth        table        price            x            y 
##    0.7979397   61.7494049   57.4571839 3932.7997219    5.7311572    5.7345260 
##            z 
##    3.5387338</code></pre>
<p>The many variants of the apply family, including lapply [list apply] and tapply [table apply] as well as sapply, each have their own uses and can be quite efficient but, again, can be syntactically challenging.</p>
<p>In the evolving tidyverse, the <strong>map</strong> family of commands is supplementing if not supplanting apply; these commands (part of the purrr package in the core tidyverse) may prove to be more convenient and clear. For example, the <strong>map_df</strong> function will apply a function and return a dataframe (tibble), which can be handy for further analysis.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="loops-functions-and-beyond.html#cb104-1" tabindex="-1"></a>diamonds2 <span class="sc">%&gt;%</span> </span>
<span id="cb104-2"><a href="loops-functions-and-beyond.html#cb104-2" tabindex="-1"></a>  <span class="fu">map_df</span>(mean)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 7
##   carat depth table price     x     y     z
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 0.798  61.7  57.5 3933.  5.73  5.73  3.54</code></pre>
</div>
<div id="some-examples-of-functions" class="section level2 hasAnchor" number="16.3">
<h2><span class="header-section-number">16.3</span> some examples of functions<a href="loops-functions-and-beyond.html#some-examples-of-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If you repeat a series of lines of code several times in your program, it is often best to wrap this into a function.</p>
<p>The first example is from a preregistered study I recently started of language and politics. For the preregistration, I ran analyses using <strong>simulated data,</strong> both to increase the likelihood that the code will run without error on real data and to help anticipate the analyses which are to be run on ‘real’ data. I began by getting a real body of text from the net and scrambling it, then constructing fake ‘Republican’ and ‘Democratic’ texts from this. Here, I illustrate this by constructing 50 sample documents, each consisting of between 5 and 20 words.</p>
<p>The project is given in four steps:</p>
<div id="preliminaries" class="section level3 hasAnchor" number="16.3.1">
<h3><span class="header-section-number">16.3.1</span> preliminaries<a href="loops-functions-and-beyond.html#preliminaries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here is the preliminary stuff, where I pull the data <del>off the net</del> and initialize the variables</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="loops-functions-and-beyond.html#cb106-1" tabindex="-1"></a>sampledata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/sentiment-words-DFE-785960.csv&quot;</span>)<span class="co">#url(</span></span>
<span id="cb106-2"><a href="loops-functions-and-beyond.html#cb106-2" tabindex="-1"></a><span class="co">#     &quot;https://www.crowdflower.com/wp-content/uploads/2016/03/sentiment-words-DFE-785960.csv&quot;))</span></span>
<span id="cb106-3"><a href="loops-functions-and-beyond.html#cb106-3" tabindex="-1"></a><span class="co">#&quot;https://raw.githubusercontent.com/totalgood/hope/master/data/corpora/sentiment-words-DFE-785960.csv&quot;))</span></span>
<span id="cb106-4"><a href="loops-functions-and-beyond.html#cb106-4" tabindex="-1"></a>  <span class="co"># pulls off four words</span></span>
<span id="cb106-5"><a href="loops-functions-and-beyond.html#cb106-5" tabindex="-1"></a>sampledata <span class="ot">&lt;-</span> sampledata[<span class="dv">22</span><span class="sc">:</span><span class="dv">25</span>] <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span>
<span id="cb106-6"><a href="loops-functions-and-beyond.html#cb106-6" tabindex="-1"></a>ndocs <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb106-7"><a href="loops-functions-and-beyond.html#cb106-7" tabindex="-1"></a>minDocLength <span class="ot">&lt;-</span>  <span class="dv">5</span></span>
<span id="cb106-8"><a href="loops-functions-and-beyond.html#cb106-8" tabindex="-1"></a>maxDocLength <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb106-9"><a href="loops-functions-and-beyond.html#cb106-9" tabindex="-1"></a>doc <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">&quot;character&quot;</span>, <span class="at">length =</span> ndocs)</span></code></pre></div>
</div>
<div id="the-function" class="section level3 hasAnchor" number="16.3.2">
<h3><span class="header-section-number">16.3.2</span> the function<a href="loops-functions-and-beyond.html#the-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here’s the simple function which pulls a random word out of the matrix of sampledata.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="loops-functions-and-beyond.html#cb107-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">33458</span>) <span class="co"># a random seed is used to allow reproducible results</span></span>
<span id="cb107-2"><a href="loops-functions-and-beyond.html#cb107-2" tabindex="-1"></a>getword <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb107-3"><a href="loops-functions-and-beyond.html#cb107-3" tabindex="-1"></a>      rowid <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(sampledata), <span class="dv">1</span>)</span>
<span id="cb107-4"><a href="loops-functions-and-beyond.html#cb107-4" tabindex="-1"></a>      colid <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(sampledata), <span class="dv">1</span>)</span>
<span id="cb107-5"><a href="loops-functions-and-beyond.html#cb107-5" tabindex="-1"></a>      sampledata[rowid,colid]</span>
<span id="cb107-6"><a href="loops-functions-and-beyond.html#cb107-6" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="applying-the-function" class="section level3 hasAnchor" number="16.3.3">
<h3><span class="header-section-number">16.3.3</span> applying the function<a href="loops-functions-and-beyond.html#applying-the-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The function is applied, first, to extract one word, then, in successive loops, to build up one phrase and then many.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="loops-functions-and-beyond.html#cb108-1" tabindex="-1"></a><span class="co"># combine words into docs</span></span>
<span id="cb108-2"><a href="loops-functions-and-beyond.html#cb108-2" tabindex="-1"></a><span class="co"># establish length of first phrase</span></span>
<span id="cb108-3"><a href="loops-functions-and-beyond.html#cb108-3" tabindex="-1"></a>docLength <span class="ot">&lt;-</span> <span class="fu">sample</span>(minDocLength<span class="sc">:</span>maxDocLength,<span class="dv">1</span>)</span>
<span id="cb108-4"><a href="loops-functions-and-beyond.html#cb108-4" tabindex="-1"></a><span class="co"># initialize with one word</span></span>
<span id="cb108-5"><a href="loops-functions-and-beyond.html#cb108-5" tabindex="-1"></a>sampleCorpus <span class="ot">&lt;-</span> <span class="fu">getword</span>()</span>
<span id="cb108-6"><a href="loops-functions-and-beyond.html#cb108-6" tabindex="-1"></a><span class="co"># loop to build up first phrase</span></span>
<span id="cb108-7"><a href="loops-functions-and-beyond.html#cb108-7" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>docLength) {</span>
<span id="cb108-8"><a href="loops-functions-and-beyond.html#cb108-8" tabindex="-1"></a>      addWord <span class="ot">&lt;-</span> <span class="fu">getword</span>()</span>
<span id="cb108-9"><a href="loops-functions-and-beyond.html#cb108-9" tabindex="-1"></a>      sampleCorpus <span class="ot">&lt;-</span> <span class="fu">paste</span>(sampleCorpus, addWord)</span>
<span id="cb108-10"><a href="loops-functions-and-beyond.html#cb108-10" tabindex="-1"></a>}</span>
<span id="cb108-11"><a href="loops-functions-and-beyond.html#cb108-11" tabindex="-1"></a><span class="co">#add additional simulated documents</span></span>
<span id="cb108-12"><a href="loops-functions-and-beyond.html#cb108-12" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>ndocs) {</span>
<span id="cb108-13"><a href="loops-functions-and-beyond.html#cb108-13" tabindex="-1"></a>      docLength <span class="ot">&lt;-</span> <span class="fu">sample</span>(minDocLength<span class="sc">:</span>maxDocLength,<span class="dv">1</span>)</span>
<span id="cb108-14"><a href="loops-functions-and-beyond.html#cb108-14" tabindex="-1"></a>      newdoc <span class="ot">&lt;-</span> <span class="fu">getword</span>()</span>
<span id="cb108-15"><a href="loops-functions-and-beyond.html#cb108-15" tabindex="-1"></a>      <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>docLength <span class="sc">-</span> <span class="dv">1</span>) {</span>
<span id="cb108-16"><a href="loops-functions-and-beyond.html#cb108-16" tabindex="-1"></a>            addWord <span class="ot">&lt;-</span> <span class="fu">getword</span>()</span>
<span id="cb108-17"><a href="loops-functions-and-beyond.html#cb108-17" tabindex="-1"></a>            newdoc <span class="ot">&lt;-</span> <span class="fu">paste</span>(newdoc, addWord)</span>
<span id="cb108-18"><a href="loops-functions-and-beyond.html#cb108-18" tabindex="-1"></a>      }</span>
<span id="cb108-19"><a href="loops-functions-and-beyond.html#cb108-19" tabindex="-1"></a>      sampleCorpus <span class="ot">&lt;-</span> <span class="fu">rbind</span>(newdoc,sampleCorpus)</span>
<span id="cb108-20"><a href="loops-functions-and-beyond.html#cb108-20" tabindex="-1"></a>}</span></code></pre></div>
<p>Finally, the results are combined with a vector of alternating labels of ‘Dem’ and ‘Rep’:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="loops-functions-and-beyond.html#cb109-1" tabindex="-1"></a><span class="fu">row.names</span>(sampleCorpus) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb109-2"><a href="loops-functions-and-beyond.html#cb109-2" tabindex="-1"></a>evenOdd <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Dem&quot;</span>,<span class="st">&quot;Rep&quot;</span>),<span class="at">length.out =</span> <span class="fu">nrow</span>(sampleCorpus))</span>
<span id="cb109-3"><a href="loops-functions-and-beyond.html#cb109-3" tabindex="-1"></a>workingCorpus <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(<span class="fu">cbind</span>(evenOdd,sampleCorpus))</span>
<span id="cb109-4"><a href="loops-functions-and-beyond.html#cb109-4" tabindex="-1"></a><span class="fu">head</span>(workingCorpus,<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   evenOdd V2                                                                    
##   &lt;chr&gt;   &lt;chr&gt;                                                                 
## 1 Dem     wild at heart nobody loves me lost art miss the sun need a doctor kin…
## 2 Rep     great player awfully nice back hurts not paying pretty rubbish found …
## 3 Dem     yahooo make no promises horrible daughter ew crazy evening fit        
## 4 Rep     can&#39;t sleep lazy afternoon sucks #fedup great shame positive break fa…
## 5 Dem     problems nice funniest hurt not necessarily sad nose eat no problem d…</code></pre>
</div>
</div>
<div id="how-many-bottles-of-what" class="section level2 hasAnchor" number="16.4">
<h2><span class="header-section-number">16.4</span> how many bottles of what?<a href="loops-functions-and-beyond.html#how-many-bottles-of-what" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To put the fun back into function, here’s a solution to the “99 bottles of beer” function described in r4DS 21.2.1. Study the code. Ask or answer a question about it in class or on Slack.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="loops-functions-and-beyond.html#cb111-1" tabindex="-1"></a>beerSong <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">liquid =</span> <span class="st">&quot;beer&quot;</span>, <span class="at">count =</span> <span class="dv">99</span>, <span class="at">surface =</span> <span class="st">&quot;wall&quot;</span>) {</span>
<span id="cb111-2"><a href="loops-functions-and-beyond.html#cb111-2" tabindex="-1"></a>    songtext <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span> </span>
<span id="cb111-3"><a href="loops-functions-and-beyond.html#cb111-3" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> (count<span class="sc">:</span><span class="dv">1</span>)) { </span>
<span id="cb111-4"><a href="loops-functions-and-beyond.html#cb111-4" tabindex="-1"></a>        thisLine <span class="ot">=</span> (<span class="fu">paste0</span>(i, <span class="st">&quot; bottles of &quot;</span>, liquid, </span>
<span id="cb111-5"><a href="loops-functions-and-beyond.html#cb111-5" tabindex="-1"></a>            <span class="st">&quot; on the &quot;</span>, surface,</span>
<span id="cb111-6"><a href="loops-functions-and-beyond.html#cb111-6" tabindex="-1"></a>            <span class="st">&quot;, you take one down and pass it around,</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb111-7"><a href="loops-functions-and-beyond.html#cb111-7" tabindex="-1"></a>        songtext <span class="ot">=</span> <span class="fu">c</span>(songtext, thisLine)</span>
<span id="cb111-8"><a href="loops-functions-and-beyond.html#cb111-8" tabindex="-1"></a>    }</span>
<span id="cb111-9"><a href="loops-functions-and-beyond.html#cb111-9" tabindex="-1"></a>    songtext <span class="ot">=</span> <span class="fu">c</span>(songtext, </span>
<span id="cb111-10"><a href="loops-functions-and-beyond.html#cb111-10" tabindex="-1"></a>                 (<span class="fu">paste0</span>(<span class="st">&quot;no more bottles of &quot;</span>,</span>
<span id="cb111-11"><a href="loops-functions-and-beyond.html#cb111-11" tabindex="-1"></a>                         liquid,<span class="st">&quot; on the &quot;</span>, surface,<span class="st">&quot;...&quot;</span>)))</span>
<span id="cb111-12"><a href="loops-functions-and-beyond.html#cb111-12" tabindex="-1"></a>    <span class="fu">cat</span>(songtext) <span class="co"># cat prints without line numbers</span></span>
<span id="cb111-13"><a href="loops-functions-and-beyond.html#cb111-13" tabindex="-1"></a>}</span>
<span id="cb111-14"><a href="loops-functions-and-beyond.html#cb111-14" tabindex="-1"></a><span class="co">#beerSong() </span></span></code></pre></div>
<p>And here are solutions proposed by some of your classmates over the last few years. How do they differ from each other, and from the solution given above?</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="loops-functions-and-beyond.html#cb112-1" tabindex="-1"></a>beersng <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb112-2"><a href="loops-functions-and-beyond.html#cb112-2" tabindex="-1"></a>  <span class="cf">if</span> (n <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb112-3"><a href="loops-functions-and-beyond.html#cb112-3" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,n,<span class="st">&quot; bottle of beer on the wall, &quot;</span>,n,</span>
<span id="cb112-4"><a href="loops-functions-and-beyond.html#cb112-4" tabindex="-1"></a>        <span class="st">&quot; bottles of beer.</span><span class="sc">\n</span><span class="st">Take one down and pass it around,&quot;</span>,</span>
<span id="cb112-5"><a href="loops-functions-and-beyond.html#cb112-5" tabindex="-1"></a>        <span class="st">&quot; no more bottles of beer on the wall.</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb112-6"><a href="loops-functions-and-beyond.html#cb112-6" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">No more bottles of beer on the wall, </span></span>
<span id="cb112-7"><a href="loops-functions-and-beyond.html#cb112-7" tabindex="-1"></a><span class="st">        no more bottles of beer.</span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb112-8"><a href="loops-functions-and-beyond.html#cb112-8" tabindex="-1"></a>        <span class="st">&quot;Go to the store and buy some more, </span></span>
<span id="cb112-9"><a href="loops-functions-and-beyond.html#cb112-9" tabindex="-1"></a><span class="st">        99 bottles of beer on the wall.</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb112-10"><a href="loops-functions-and-beyond.html#cb112-10" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb112-11"><a href="loops-functions-and-beyond.html#cb112-11" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,n,<span class="st">&quot; bottles of beer on the wall, &quot;</span>,n,</span>
<span id="cb112-12"><a href="loops-functions-and-beyond.html#cb112-12" tabindex="-1"></a>        <span class="st">&quot; bottles of beer.</span><span class="sc">\n</span><span class="st">Take one down and pass it around, &quot;</span>,</span>
<span id="cb112-13"><a href="loops-functions-and-beyond.html#cb112-13" tabindex="-1"></a>        n<span class="dv">-1</span>, <span class="st">&quot; more bottles of beer on the wall.</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb112-14"><a href="loops-functions-and-beyond.html#cb112-14" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">beersng</span>(n<span class="dv">-1</span>))</span>
<span id="cb112-15"><a href="loops-functions-and-beyond.html#cb112-15" tabindex="-1"></a>  }</span>
<span id="cb112-16"><a href="loops-functions-and-beyond.html#cb112-16" tabindex="-1"></a>}</span>
<span id="cb112-17"><a href="loops-functions-and-beyond.html#cb112-17" tabindex="-1"></a><span class="co">#beersng(99)</span></span>
<span id="cb112-18"><a href="loops-functions-and-beyond.html#cb112-18" tabindex="-1"></a>moreBeer <span class="ot">&lt;-</span> <span class="cf">function</span> () {</span>
<span id="cb112-19"><a href="loops-functions-and-beyond.html#cb112-19" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">100</span>){</span>
<span id="cb112-20"><a href="loops-functions-and-beyond.html#cb112-20" tabindex="-1"></a>  starting_number <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb112-21"><a href="loops-functions-and-beyond.html#cb112-21" tabindex="-1"></a>  <span class="cf">if</span> (starting_number <span class="sc">-</span> i <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb112-22"><a href="loops-functions-and-beyond.html#cb112-22" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;No more bottles of beer on the wall, </span></span>
<span id="cb112-23"><a href="loops-functions-and-beyond.html#cb112-23" tabindex="-1"></a><span class="st">          no more bottles of beer, </span></span>
<span id="cb112-24"><a href="loops-functions-and-beyond.html#cb112-24" tabindex="-1"></a><span class="st">          Go to the store and buy some more, </span></span>
<span id="cb112-25"><a href="loops-functions-and-beyond.html#cb112-25" tabindex="-1"></a><span class="st">          99 bottles of beer on the wall.&quot;</span>)</span>
<span id="cb112-26"><a href="loops-functions-and-beyond.html#cb112-26" tabindex="-1"></a>    <span class="cf">break</span></span>
<span id="cb112-27"><a href="loops-functions-and-beyond.html#cb112-27" tabindex="-1"></a>  }</span>
<span id="cb112-28"><a href="loops-functions-and-beyond.html#cb112-28" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(starting_number <span class="sc">-</span> i,</span>
<span id="cb112-29"><a href="loops-functions-and-beyond.html#cb112-29" tabindex="-1"></a>              <span class="st">&quot;bottles of beer on the wall&quot;</span>,</span>
<span id="cb112-30"><a href="loops-functions-and-beyond.html#cb112-30" tabindex="-1"></a>              <span class="st">&quot;Take one down and pass it around,&quot;</span>,</span>
<span id="cb112-31"><a href="loops-functions-and-beyond.html#cb112-31" tabindex="-1"></a>              starting_number <span class="sc">-</span> i <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb112-32"><a href="loops-functions-and-beyond.html#cb112-32" tabindex="-1"></a>              <span class="st">&quot;bottles of beer on the wall.&quot;</span>))</span>
<span id="cb112-33"><a href="loops-functions-and-beyond.html#cb112-33" tabindex="-1"></a>  }</span>
<span id="cb112-34"><a href="loops-functions-and-beyond.html#cb112-34" tabindex="-1"></a>}</span>
<span id="cb112-35"><a href="loops-functions-and-beyond.html#cb112-35" tabindex="-1"></a><span class="co"># moreBeer()</span></span>
<span id="cb112-36"><a href="loops-functions-and-beyond.html#cb112-36" tabindex="-1"></a>song <span class="ot">&lt;-</span> <span class="cf">function</span>(bottlesofbeer){</span>
<span id="cb112-37"><a href="loops-functions-and-beyond.html#cb112-37" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> bottlesofbeer<span class="sc">:</span><span class="dv">1</span>){ </span>
<span id="cb112-38"><a href="loops-functions-and-beyond.html#cb112-38" tabindex="-1"></a>     <span class="fu">cat</span>(bottlesofbeer,<span class="st">&quot; bottles of beer on the wall </span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb112-39"><a href="loops-functions-and-beyond.html#cb112-39" tabindex="-1"></a>        bottlesofbeer,<span class="st">&quot; bottles of beer </span><span class="sc">\n</span><span class="st">Take one down, </span></span>
<span id="cb112-40"><a href="loops-functions-and-beyond.html#cb112-40" tabindex="-1"></a><span class="st">        pass it around </span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb112-41"><a href="loops-functions-and-beyond.html#cb112-41" tabindex="-1"></a>        bottlesofbeer<span class="dv">-1</span>, <span class="st">&quot; bottles of beer on the wall </span><span class="sc">\n</span><span class="st">&quot;</span>,<span class="st">&quot; </span><span class="sc">\n</span><span class="st">&quot;</span>)       </span>
<span id="cb112-42"><a href="loops-functions-and-beyond.html#cb112-42" tabindex="-1"></a>        bottlesofbeer <span class="ot">=</span> bottlesofbeer <span class="sc">-</span> <span class="dv">1</span> </span>
<span id="cb112-43"><a href="loops-functions-and-beyond.html#cb112-43" tabindex="-1"></a>  }</span>
<span id="cb112-44"><a href="loops-functions-and-beyond.html#cb112-44" tabindex="-1"></a>}</span>
<span id="cb112-45"><a href="loops-functions-and-beyond.html#cb112-45" tabindex="-1"></a><span class="co">#song(99)</span></span></code></pre></div>
<p>Which code is ‘best’? Good code is clear, but it is also efficient. We probably shouldn’t expect much in the way of differences between these functions in terms of speed (as each includes 99 iterations of a simple print command), but here’s a simple way to compare. Note that I’ve used the “sink” command to write my output to files rather than consoles:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="loops-functions-and-beyond.html#cb113-1" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb113-2"><a href="loops-functions-and-beyond.html#cb113-2" tabindex="-1"></a><span class="fu">sink</span> (<span class="at">file =</span> <span class="st">&quot;f1.txt&quot;</span>)</span>
<span id="cb113-3"><a href="loops-functions-and-beyond.html#cb113-3" tabindex="-1"></a><span class="fu">beerSong</span>(<span class="st">&quot;beer&quot;</span>,<span class="dv">99</span>)</span>
<span id="cb113-4"><a href="loops-functions-and-beyond.html#cb113-4" tabindex="-1"></a><span class="fu">sink</span>()</span>
<span id="cb113-5"><a href="loops-functions-and-beyond.html#cb113-5" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb113-6"><a href="loops-functions-and-beyond.html#cb113-6" tabindex="-1"></a>beerSongtime <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb113-7"><a href="loops-functions-and-beyond.html#cb113-7" tabindex="-1"></a></span>
<span id="cb113-8"><a href="loops-functions-and-beyond.html#cb113-8" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb113-9"><a href="loops-functions-and-beyond.html#cb113-9" tabindex="-1"></a><span class="fu">sink</span> (<span class="at">file =</span> <span class="st">&quot;f2.txt&quot;</span>)</span>
<span id="cb113-10"><a href="loops-functions-and-beyond.html#cb113-10" tabindex="-1"></a><span class="fu">beersng</span>(<span class="dv">99</span>)</span>
<span id="cb113-11"><a href="loops-functions-and-beyond.html#cb113-11" tabindex="-1"></a><span class="fu">sink</span>()</span>
<span id="cb113-12"><a href="loops-functions-and-beyond.html#cb113-12" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb113-13"><a href="loops-functions-and-beyond.html#cb113-13" tabindex="-1"></a>beersngtime <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb113-14"><a href="loops-functions-and-beyond.html#cb113-14" tabindex="-1"></a></span>
<span id="cb113-15"><a href="loops-functions-and-beyond.html#cb113-15" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb113-16"><a href="loops-functions-and-beyond.html#cb113-16" tabindex="-1"></a><span class="fu">sink</span> (<span class="at">file =</span> <span class="st">&quot;f3.txt&quot;</span>)</span>
<span id="cb113-17"><a href="loops-functions-and-beyond.html#cb113-17" tabindex="-1"></a><span class="fu">song</span>(<span class="dv">99</span>)</span>
<span id="cb113-18"><a href="loops-functions-and-beyond.html#cb113-18" tabindex="-1"></a><span class="fu">sink</span>()</span>
<span id="cb113-19"><a href="loops-functions-and-beyond.html#cb113-19" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb113-20"><a href="loops-functions-and-beyond.html#cb113-20" tabindex="-1"></a>songtime <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb113-21"><a href="loops-functions-and-beyond.html#cb113-21" tabindex="-1"></a></span>
<span id="cb113-22"><a href="loops-functions-and-beyond.html#cb113-22" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb113-23"><a href="loops-functions-and-beyond.html#cb113-23" tabindex="-1"></a><span class="fu">sink</span> (<span class="at">file =</span> <span class="st">&quot;f4.txt&quot;</span>)</span>
<span id="cb113-24"><a href="loops-functions-and-beyond.html#cb113-24" tabindex="-1"></a><span class="fu">moreBeer</span>()</span>
<span id="cb113-25"><a href="loops-functions-and-beyond.html#cb113-25" tabindex="-1"></a><span class="fu">sink</span>()</span>
<span id="cb113-26"><a href="loops-functions-and-beyond.html#cb113-26" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb113-27"><a href="loops-functions-and-beyond.html#cb113-27" tabindex="-1"></a>moreBeertime <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span></code></pre></div>
<p>Here is the first line of output from each function, together with table showing the elapsed times:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="loops-functions-and-beyond.html#cb114-1" tabindex="-1"></a><span class="fu">readLines</span>(<span class="st">&quot;f1.txt&quot;</span>,<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot; 99 bottles of beer on the wall, you take one down and pass it around,&quot;</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="loops-functions-and-beyond.html#cb116-1" tabindex="-1"></a><span class="fu">readLines</span>(<span class="st">&quot;f2.txt&quot;</span>,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;&quot;                                                   
## [2] &quot;99 bottles of beer on the wall, 99 bottles of beer.&quot;</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="loops-functions-and-beyond.html#cb118-1" tabindex="-1"></a><span class="fu">readLines</span>(<span class="st">&quot;f3.txt&quot;</span>,<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] &quot;99  bottles of beer on the wall &quot; &quot; 99  bottles of beer &quot;           
## [3] &quot;Take one down, &quot;                  &quot;        pass it around &quot;</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="loops-functions-and-beyond.html#cb120-1" tabindex="-1"></a><span class="fu">readLines</span>(<span class="st">&quot;f4.txt&quot;</span>,<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;[1] \&quot;100 bottles of beer on the wall Take one down and pass it around, 99 bottles of beer on the wall.\&quot;&quot;</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="loops-functions-and-beyond.html#cb122-1" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">functionName =</span> <span class="fu">c</span>(<span class="st">&quot;beerSongtime&quot;</span>,</span>
<span id="cb122-2"><a href="loops-functions-and-beyond.html#cb122-2" tabindex="-1"></a>           <span class="st">&quot;beersngtime&quot;</span>,</span>
<span id="cb122-3"><a href="loops-functions-and-beyond.html#cb122-3" tabindex="-1"></a>           <span class="st">&quot;songtime&quot;</span>,</span>
<span id="cb122-4"><a href="loops-functions-and-beyond.html#cb122-4" tabindex="-1"></a>           <span class="st">&quot;moreBeertime&quot;</span>), <span class="at">time =</span></span>
<span id="cb122-5"><a href="loops-functions-and-beyond.html#cb122-5" tabindex="-1"></a>             <span class="fu">c</span>(beerSongtime,beersngtime,</span>
<span id="cb122-6"><a href="loops-functions-and-beyond.html#cb122-6" tabindex="-1"></a>           songtime,</span>
<span id="cb122-7"><a href="loops-functions-and-beyond.html#cb122-7" tabindex="-1"></a>           moreBeertime)) <span class="sc">%&gt;%</span> </span>
<span id="cb122-8"><a href="loops-functions-and-beyond.html#cb122-8" tabindex="-1"></a>          <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">functionName</th>
<th align="left">time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">beerSongtime</td>
<td align="left">0.01 secs</td>
</tr>
<tr class="even">
<td align="left">beersngtime</td>
<td align="left">0.01 secs</td>
</tr>
<tr class="odd">
<td align="left">songtime</td>
<td align="left">0.01 secs</td>
</tr>
<tr class="even">
<td align="left">moreBeertime</td>
<td align="left">0.02 secs</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="loops-functions-and-beyond.html#cb123-1" tabindex="-1"></a><span class="fu">file.remove</span>(<span class="fu">c</span>(<span class="st">&quot;f1.txt&quot;</span>, <span class="st">&quot;f2.txt&quot;</span>, <span class="st">&quot;f3.txt&quot;</span>, <span class="st">&quot;f4.txt&quot;</span>), <span class="at">echo =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE  TRUE FALSE</code></pre>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-sternberg1999" class="csl-entry">
Sternberg, Robert J. 1999. <span>“The Theory of Successful Intelligence.”</span> <em>Review of General Psychology</em> 3 (4): 292–316. <a href="https://doi.org/10/cqrkxh">https://doi.org/10/cqrkxh</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lists.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="from-correlation-to-multiple-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
